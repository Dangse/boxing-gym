<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ê¶Œíˆ¬ì²´ìœ¡ê´€ AI ì„¸ë¬´ ë§ˆìŠ¤í„°</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['"Noto Sans KR"', 'sans-serif'] },
                    colors: {
                        brand: { 50: '#fbfaf9', 100: '#f5f3f0', 200: '#ebe6e0', 300: '#dbd1c7', 400: '#c5b4a5', 500: '#b09682', 600: '#a3846f', 700: '#886b59', 800: '#70594c', 900: '#5c4940' },
                        accent: { light: '#fbbf24', DEFAULT: '#d97706', dark: '#b45309' }
                    }
                }
            }
        }
    </script>

    <style>
        html { scroll-behavior: smooth; -webkit-text-size-adjust: none; }
        body { background-color: #fbfaf9; color: #333; word-break: keep-all; }
        input, select, button { font-size: 16px !important; }
        .mobile-touch-target { min-height: 48px; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        @media (min-width: 768px) {
            .desktop-card-hover:hover { transform: translateY(-5px); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); }
        }

        .ai-card { background: white; border: 1px solid #ebe6e0; border-radius: 1.5rem; transition: all 0.3s ease; }
        .contract-output { white-space: pre-wrap; word-break: break-all; font-size: 0.95rem; line-height: 1.8; color: #1a1a1a; }
        .chart-container { position: relative; width: 100%; height: 260px; }
        
        @keyframes bounce-x {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(5px); }
        }
        .animate-bounce-x { animation: bounce-x 1s infinite; }
    </style>
</head>
<body class="text-brand-800 antialiased min-h-screen flex flex-col md:flex-row">

    <!-- Mobile Header -->
    <header class="md:hidden sticky top-0 z-50 bg-white/95 backdrop-blur-md border-b border-brand-200 px-4 py-3 flex justify-between items-center">
        <div class="flex items-center space-x-2">
            <span class="text-xl">ğŸ¥Š</span>
            <h1 class="text-lg font-black text-brand-900 tracking-tight">AI ì„¸ë¬´ ë§ˆìŠ¤í„°</h1>
        </div>
        <button id="menu-toggle" class="p-2 text-brand-700 bg-brand-50 rounded-lg flex items-center space-x-1 mobile-touch-target">
            <span class="text-sm font-bold">ë©”ë‰´</span>
            <span class="text-xs">â˜°</span>
        </button>
    </header>

    <!-- Mobile Drawer Menu -->
    <nav id="mobile-menu" class="fixed inset-0 z-[60] bg-black/50 hidden opacity-0 transition-opacity duration-300 md:hidden">
        <div class="absolute right-0 top-0 bottom-0 w-3/4 bg-white p-6 shadow-2xl flex flex-col overflow-y-auto">
            <div class="flex justify-between items-center mb-8">
                <span class="font-black text-brand-900 text-lg">ë‚´ë¹„ê²Œì´ì…˜</span>
                <button id="menu-close" class="text-3xl text-brand-400 mobile-touch-target px-2">&times;</button>
            </div>
            <ul class="flex-1 space-y-2 font-bold text-brand-700">
                <li>
                    <a href="payroll.html" class="flex items-center justify-between p-4 bg-accent text-white rounded-xl shadow-lg mb-6 active:scale-95 transition-all">
                        <div class="flex items-center space-x-3">
                            <span class="text-xl">ğŸ’°</span>
                            <span>ê¸‰ì—¬ê´€ë¦¬ ë°”ë¡œê°€ê¸°</span>
                        </div>
                        <span class="text-xs">ì´ë™ â”</span>
                    </a>
                </li>
                <li><a href="#section-ai" class="block py-4 border-b border-brand-50">âœ¨ AI ê³„ì•½ì„œ ë„ìš°ë¯¸</a></li>
                <li><a href="#section-reg" class="block py-4 border-b border-brand-50">ğŸ¢ ì„¤ë¦½ ë° ë“±ë¡ ì°¨ì´</a></li>
                <li><a href="#section-duty" class="block py-4 border-b border-brand-50">âš–ï¸ ì„¸ë¬´ì„œ ì´ˆê¸° ì˜ë¬´</a></li>
                <li><a href="#section-interior" class="block py-4 border-b border-brand-50">ğŸ”¨ ì¸í…Œë¦¬ì–´ ë¶€ê°€ì„¸</a></li>
                <li><a href="#section-calendar" class="block py-4 border-b border-brand-50">ğŸ“… ì—°ê°„ ì„¸ë¬´ ì¼ì •</a></li>
                <li><a href="#section-structure" class="block py-4 border-b border-brand-50">ğŸ’° ì†Œë“ì„¸ ê³„ì‚° êµ¬ì¡°</a></li>
                <li><a href="#section-benefit" class="block py-4 border-b border-brand-50">ğŸ ì„¸ì•¡ê°ë©´ í˜œíƒ</a></li>
            </ul>
        </div>
    </nav>

    <!-- Desktop Sidebar -->
    <nav class="hidden md:flex flex-col w-72 bg-white border-r border-brand-200 h-screen sticky top-0 overflow-y-auto z-40">
        <div class="p-8 border-b border-brand-100">
            <h1 class="text-2xl font-black text-brand-900 leading-tight">Boxing Gym<br><span class="text-accent">Tax Master</span></h1>
            <p class="text-[10px] text-brand-400 mt-2 font-bold uppercase tracking-widest">Seongnam Edition</p>
        </div>
        <ul class="flex-1 py-6 space-y-1">
            <li class="px-6 mb-6">
                <a href="payroll.html" class="flex items-center justify-between p-3 bg-accent text-white rounded-xl shadow-md hover:bg-accent-dark transition-all group">
                    <div class="flex items-center space-x-2">
                        <span>ğŸ’°</span>
                        <span class="font-bold text-sm">ê¸‰ì—¬ê´€ë¦¬ ì‹œìŠ¤í…œ</span>
                    </div>
                    <span class="text-xs group-hover:translate-x-1 transition-transform">â”</span>
                </a>
            </li>
            <li><a href="#section-ai" class="block px-8 py-3 text-brand-700 hover:bg-brand-50 hover:text-accent font-bold border-l-4 border-transparent hover:border-accent transition-all">âœ¨ AI ê³„ì•½ì„œ ë„ìš°ë¯¸</a></li>
            <li><a href="#section-reg" class="block px-8 py-3 text-brand-600 hover:bg-brand-50 hover:text-accent font-medium border-l-4 border-transparent hover:border-accent transition-all">ğŸ¢ ì„¤ë¦½ ë° ë“±ë¡ ì°¨ì´</a></li>
            <li><a href="#section-duty" class="block px-8 py-3 text-brand-600 hover:bg-brand-50 hover:text-accent font-medium border-l-4 border-transparent hover:border-accent transition-all">âš–ï¸ ì„¸ë¬´ì„œ ì´ˆê¸° ì˜ë¬´</a></li>
            <li><a href="#section-interior" class="block px-8 py-3 text-brand-600 hover:bg-brand-50 hover:text-accent font-medium border-l-4 border-transparent hover:border-accent transition-all">ğŸ”¨ ì¸í…Œë¦¬ì–´ ë¶€ê°€ì„¸</a></li>
            <li><a href="#section-calendar" class="block px-8 py-3 text-brand-600 hover:bg-brand-50 hover:text-accent font-medium border-l-4 border-transparent hover:border-accent transition-all">ğŸ“… ì—°ê°„ ì„¸ë¬´ ì¼ì •</a></li>
            <li><a href="#section-structure" class="block px-8 py-3 text-brand-600 hover:bg-brand-50 hover:text-accent font-medium border-l-4 border-transparent hover:border-accent transition-all">ğŸ’° ì†Œë“ì„¸ ê³„ì‚° êµ¬ì¡°</a></li>
            <li><a href="#section-benefit" class="block px-8 py-3 text-brand-600 hover:bg-brand-50 hover:text-accent font-medium border-l-4 border-transparent hover:border-accent transition-all">ğŸ ì„¸ì•¡ê°ë©´ í˜œíƒ</a></li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main class="flex-1 p-4 md:p-12 overflow-y-auto w-full max-w-7xl mx-auto space-y-12 md:space-y-24">

        <!-- Hero -->
        <section class="py-4 md:py-0 text-center md:text-left">
            <h2 class="text-2xl md:text-4xl font-black text-brand-900 leading-tight">ì„±ë‚¨ì‹œ ê¶Œíˆ¬ì²´ìœ¡ê´€<br><span class="text-accent underline decoration-accent/20 underline-offset-4">ì°½ì—… ë° ì„¸ë¬´ ë§ˆìŠ¤í„°</span></h2>
            <p class="text-sm md:text-base text-brand-500 mt-3 md:mt-4 leading-relaxed max-w-2xl">
                AIë¥¼ í™œìš©í•´ ê³„ì•½ì„œ ì‘ì„±ë¶€í„° ì ˆì„¸ ì „ëµê¹Œì§€ í•œ ë²ˆì— í•´ê²°í•˜ì„¸ìš”.
            </p>
        </section>

        <!-- Payroll Quick Link -->
        <section id="section-quick-payroll" class="px-2 md:px-0">
            <a href="payroll.html" class="group flex flex-col md:flex-row items-center md:justify-between p-6 md:p-8 bg-white border-2 border-accent rounded-[2rem] shadow-xl shadow-accent/5 hover:shadow-accent/10 transition-all desktop-card-hover cursor-pointer">
                <div class="flex flex-col md:flex-row items-center md:space-x-6 text-center md:text-left">
                    <div class="bg-accent/10 p-4 rounded-full mb-3 md:mb-0 group-hover:bg-accent/20 transition-colors">
                        <span class="text-3xl md:text-4xl">ğŸ’°</span>
                    </div>
                    <div>
                        <h3 class="text-lg md:text-2xl font-black text-brand-900">ê¸‰ì—¬ê´€ë¦¬ ì‹œìŠ¤í…œ ë°”ë¡œê°€ê¸°</h3>
                        <p class="text-[11px] md:text-sm text-brand-500 mt-1">ì½”ì¹˜ ë° ì§ì›ì˜ ê¸‰ì—¬ ê³„ì‚°, ëª…ì„¸ì„œ ë°œê¸‰</p>
                    </div>
                </div>
                <div class="mt-4 md:mt-0 flex items-center text-accent font-bold text-xs md:text-base bg-accent/5 px-4 py-2 rounded-full group-hover:bg-accent group-hover:text-white transition-all">
                    <span>ì´ë™í•˜ê¸°</span>
                    <span class="ml-2 animate-bounce-x">â”</span>
                </div>
            </a>
        </section>

        <!-- 1. AI Contract Center -->
        <section id="section-ai" class="scroll-mt-20 space-y-6">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl md:text-2xl font-bold text-brand-900 flex items-center">
                    <span class="text-accent mr-2">âœ¨</span> AI ê³„ì•½ì„œ ë„ìš°ë¯¸
                </h3>
                <span class="bg-brand-100 text-brand-600 px-3 py-1 rounded-full text-[10px] md:text-xs font-bold tracking-tight">CLEAN TEXT MODE</span>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8">
                <!-- Freelancer -->
                <div class="ai-card p-6 shadow-sm space-y-4 border-l-4 border-l-accent desktop-card-hover">
                    <div class="flex items-center justify-between">
                        <h4 class="font-bold text-brand-800 text-lg">í”„ë¦¬ëœì„œ ìœ„ì´‰ê³„ì•½ì„œ</h4>
                        <span class="text-2xl">ğŸ¤</span>
                    </div>
                    <p class="text-xs text-brand-400">ì½”ì¹˜ì™€ì˜ ë…ë¦½ì ì¸ íŒŒíŠ¸ë„ˆì‹­ ê³„ì•½ (3.3%)</p>
                    <input type="text" id="freeRole" placeholder="ì½”ì¹˜ ì´ë¦„ ë° ì—­í• " class="w-full px-4 py-3 bg-brand-50 border border-brand-200 rounded-xl outline-none focus:border-accent focus:ring-2 focus:ring-accent/20 transition-all mobile-touch-target">
                    <button id="btnFreeGen" class="w-full bg-accent text-white font-black py-4 rounded-xl shadow-md hover:bg-accent-dark active:scale-95 transition-all mobile-touch-target">AI ë¬¸êµ¬ ìƒì„±</button>
                    
                    <div id="freeResultArea" class="hidden space-y-3 pt-4 border-t border-brand-100">
                        <div id="freeOutput" class="p-4 bg-stone-50 border border-brand-200 rounded-xl contract-output text-sm"></div>
                        <div class="flex gap-2">
                            <button onclick="copyToClipboard('freeOutput')" class="flex-1 bg-brand-800 hover:bg-brand-900 text-white py-3 rounded-xl text-sm font-bold shadow-sm transition-colors mobile-touch-target">ë³µì‚¬í•˜ê¸°</button>
                            <button onclick="foldArea('freeResultArea')" class="flex-1 bg-brand-200 hover:bg-brand-300 text-brand-700 py-3 rounded-xl text-sm font-bold transition-colors mobile-touch-target">ì ‘ê¸°</button>
                        </div>
                    </div>
                </div>

                <!-- Labor -->
                <div class="ai-card p-6 shadow-sm space-y-4 border-l-4 border-l-brand-800 desktop-card-hover">
                    <div class="flex items-center justify-between">
                        <h4 class="font-bold text-brand-800 text-lg">í‘œì¤€ ê·¼ë¡œê³„ì•½ì„œ</h4>
                        <span class="text-2xl">ğŸ“„</span>
                    </div>
                    <p class="text-xs text-brand-400">ì •ê·œì§/ì•„ë¥´ë°”ì´íŠ¸ ì§ì› ì±„ìš©</p>
                    <input type="text" id="laborInfo" placeholder="ê·¼ë¡œì ì´ë¦„ ë° ê¸‰ì—¬ ì¡°ê±´" class="w-full px-4 py-3 bg-brand-50 border border-brand-200 rounded-xl outline-none focus:border-brand-900 focus:ring-2 focus:ring-brand-900/20 transition-all mobile-touch-target">
                    <button id="btnLaborGen" class="w-full bg-brand-900 text-white font-black py-4 rounded-xl shadow-md hover:bg-black active:scale-95 transition-all mobile-touch-target">AI ì´ˆì•ˆ ìƒì„±</button>
                    
                    <div id="laborResultArea" class="hidden space-y-3 pt-4 border-t border-brand-100">
                        <div id="laborOutput" class="p-4 bg-stone-50 border border-brand-200 rounded-xl contract-output text-sm"></div>
                        <div class="flex gap-2">
                            <button onclick="copyToClipboard('laborOutput')" class="flex-1 bg-brand-800 hover:bg-brand-900 text-white py-3 rounded-xl text-sm font-bold shadow-sm transition-colors mobile-touch-target">ë³µì‚¬í•˜ê¸°</button>
                            <button onclick="foldArea('laborResultArea')" class="flex-1 bg-brand-200 hover:bg-brand-300 text-brand-700 py-3 rounded-xl text-sm font-bold transition-colors mobile-touch-target">ì ‘ê¸°</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="loading" class="hidden text-center py-8">
                <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-4 border-accent"></div>
                <p class="text-sm text-brand-500 mt-3 font-bold tracking-tight">AIê°€ ë¬¸ì„œë¥¼ ì‘ì„± ì¤‘ì…ë‹ˆë‹¤...</p>
            </div>
        </section>

        <!-- 2. Registration Differences -->
        <section id="section-reg" class="scroll-mt-20 space-y-6">
            <h3 class="text-xl md:text-2xl font-bold text-brand-900 flex items-center">
                <span class="text-accent mr-2">ğŸ¢</span> ì„¤ë¦½ ë° ë“±ë¡ ì°¨ì´
            </h3>
            <div class="overflow-x-auto md:overflow-visible no-scrollbar -mx-4 px-4 md:mx-0 md:px-0">
                <div class="flex md:grid md:grid-cols-2 space-x-4 md:space-x-0 md:gap-6 w-[550px] md:w-full">
                    <div class="w-[260px] md:w-full bg-white p-6 rounded-2xl border border-brand-200 shadow-sm desktop-card-hover">
                        <p class="font-black text-brand-900 text-lg mb-4 pb-2 border-b border-brand-100">ì²´ìœ¡ì‹œì„¤ì—… ì‹ ê³ </p>
                        <ul class="text-sm text-brand-600 space-y-3">
                            <li class="flex items-start"><span class="mr-2 text-accent">âœ”</span> ê´€í• : ì„±ë‚¨ì‹œ ê° êµ¬ì²­</li>
                            <li class="flex items-start"><span class="mr-2 text-accent">âœ”</span> ê¸°ì¤€: ìƒí™œì²´ìœ¡ì§€ë„ì ë°°ì¹˜ í•„ìˆ˜</li>
                        </ul>
                    </div>
                    <div class="w-[260px] md:w-full bg-white p-6 rounded-2xl border border-brand-200 shadow-sm desktop-card-hover">
                        <p class="font-black text-brand-900 text-lg mb-4 pb-2 border-b border-brand-100">í•™ì› ì„¤ë¦½ ë“±ë¡</p>
                        <ul class="text-sm text-brand-600 space-y-3">
                            <li class="flex items-start"><span class="mr-2 text-brand-400">âœ”</span> ê´€í• : ì„±ë‚¨êµìœ¡ì§€ì›ì²­</li>
                            <li class="flex items-start"><span class="mr-2 text-brand-400">âœ”</span> ê¸°ì¤€: ì‹œì„¤ ë° ì†Œë°© ê¸°ì¤€ ì—„ê²©</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. Tax Office Duties -->
        <section id="section-duty" class="scroll-mt-20 space-y-6">
            <h3 class="text-xl md:text-2xl font-bold text-brand-900 flex items-center">
                <span class="text-accent mr-2">âš–ï¸</span> ì„¸ë¬´ì„œ ì´ˆê¸° ì˜ë¬´
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6">
                <div class="bg-white p-6 rounded-2xl border border-brand-200 flex md:flex-col items-center md:items-start justify-between md:justify-start desktop-card-hover">
                    <div class="flex-1">
                        <p class="font-bold text-brand-800 text-sm md:text-base">ì‚¬ì—…ìë“±ë¡</p>
                        <p class="text-[11px] md:text-xs text-brand-500 mt-1">20ì¼ ë‚´ ë©´ì„¸ì‚¬ì—…ì ì‹ ì²­</p>
                    </div>
                    <span class="text-[10px] text-accent font-bold bg-accent/10 px-2 py-1 rounded md:mt-4 md:self-start">í•„ìˆ˜</span>
                </div>
                <div class="bg-white p-6 rounded-2xl border border-brand-200 flex md:flex-col items-center md:items-start justify-between md:justify-start desktop-card-hover">
                    <div class="flex-1">
                        <p class="font-bold text-brand-800 text-sm md:text-base">ê³„ì¢Œ/ì¹´ë“œ ë“±ë¡</p>
                        <p class="text-[11px] md:text-xs text-brand-500 mt-1">6ê°œì›” ë‚´ ë“±ë¡ (ê°€ì‚°ì„¸ ë©´ì œ)</p>
                    </div>
                    <span class="text-[10px] text-brand-400 font-bold bg-brand-50 px-2 py-1 rounded md:mt-4 md:self-start">í•„ìˆ˜</span>
                </div>
                <div class="bg-red-50 p-6 rounded-2xl border border-red-100 desktop-card-hover">
                    <p class="font-bold text-red-800 text-sm md:text-base">í˜„ê¸ˆì˜ìˆ˜ì¦ ì˜ë¬´</p>
                    <p class="text-[11px] md:text-xs text-red-600 mt-2">10ë§Œì› ì´ìƒ í˜„ê¸ˆ ì‹œ ë¬´ì¡°ê±´ ë°œí–‰</p>
                </div>
            </div>
        </section>

        <!-- 4. Interior -->
        <section id="section-interior" class="scroll-mt-20 space-y-6">
            <h3 class="text-xl md:text-2xl font-bold text-brand-900 flex items-center">
                <span class="text-accent mr-2">ğŸ”¨</span> ì¸í…Œë¦¬ì–´ ë§¤ì…ì„¸ì•¡
            </h3>
            <div class="bg-white p-6 md:p-8 rounded-3xl border border-brand-200 shadow-sm grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                <div class="space-y-4">
                    <label class="block text-[10px] md:text-xs font-bold text-brand-400 uppercase">ê³µì‚¬ë¹„ ì…ë ¥ (VAT ë³„ë„)</label>
                    <div class="flex items-center space-x-2 border-b-2 border-brand-100 pb-2">
                        <input type="number" id="costInput" value="50000000" class="text-3xl md:text-4xl font-black text-accent w-full bg-transparent outline-none">
                        <span class="font-bold text-brand-300 text-xl">ì›</span>
                    </div>
                    <p class="text-xs text-brand-600 leading-relaxed bg-brand-50 p-4 rounded-xl">
                        í™˜ê¸‰ë°›ì§€ ëª»í•œ ë¶€ê°€ì„¸ëŠ” <strong>ìì‚°(ì‹œì„¤ì¥ì¹˜) ì·¨ë“ì›ê°€</strong>ì— í•©ì‚°í•˜ì—¬ 5ë…„ ë™ì•ˆ ë¹„ìš©(ê°ê°€ìƒê°ë¹„)ìœ¼ë¡œ ì²˜ë¦¬í•˜ì„¸ìš”.
                    </p>
                </div>
                <div class="chart-container">
                    <canvas id="costChart"></canvas>
                </div>
            </div>
        </section>

        <!-- 5. Calendar -->
        <section id="section-calendar" class="scroll-mt-20 space-y-6">
            <h3 class="text-xl md:text-2xl font-bold text-brand-900 flex items-center">
                <span class="text-accent mr-2">ğŸ“…</span> ì—°ê°„ ì£¼ìš” ì„¸ë¬´ ì¼ì •
            </h3>
            <div class="flex overflow-x-auto md:overflow-visible no-scrollbar space-x-4 md:space-x-0 md:grid md:grid-cols-4 md:gap-6 pb-4 -mx-4 px-4 md:mx-0 md:px-0">
                <div class="min-w-[150px] bg-white p-5 rounded-2xl border border-brand-100 shadow-sm border-t-4 border-t-accent desktop-card-hover">
                    <p class="text-xs font-bold text-accent">ë§¤ì›” 10ì¼</p>
                    <p class="font-bold text-brand-800 text-sm mt-2">ì›ì²œì„¸ ì‹ ê³ </p>
                </div>
                <div class="min-w-[150px] bg-white p-5 rounded-2xl border border-brand-100 shadow-sm border-t-4 border-t-brand-400 desktop-card-hover">
                    <p class="text-xs font-bold text-brand-400">2ì›” 10ì¼</p>
                    <p class="font-bold text-brand-800 text-sm mt-2">ì‚¬ì—…ì í˜„í™©ì‹ ê³ </p>
                </div>
                <div class="min-w-[150px] bg-white p-5 rounded-2xl border border-brand-100 shadow-sm border-t-4 border-t-brand-400 desktop-card-hover">
                    <p class="text-xs font-bold text-brand-400">3ì›” 10ì¼</p>
                    <p class="font-bold text-brand-800 text-sm mt-2">ì§€ê¸‰ëª…ì„¸ì„œ ì œì¶œ</p>
                </div>
                <div class="min-w-[150px] bg-white p-5 rounded-2xl border border-brand-100 shadow-sm border-t-4 border-t-accent desktop-card-hover">
                    <p class="text-xs font-bold text-accent">5ì›” í•œë‹¬</p>
                    <p class="font-bold text-brand-800 text-sm mt-2">ì¢…í•©ì†Œë“ì„¸ ì‹ ê³ </p>
                </div>
            </div>
        </section>

        <!-- 6. Structure & Benefit -->
        <section id="section-structure" class="scroll-mt-20 space-y-6 pb-16 md:pb-24">
            <h3 class="text-xl md:text-2xl font-bold text-brand-900 flex items-center">
                <span class="text-accent mr-2">ğŸ’°</span> ì†Œë“ì„¸ & ê°ë©´ í˜œíƒ
            </h3>
            <div class="bg-brand-900 text-white p-6 md:p-8 rounded-[2rem] shadow-xl">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div class="space-y-4">
                        <p class="font-bold text-lg md:text-xl">ì„¸ê¸ˆ ê³„ì‚° êµ¬ì¡°</p>
                        <ul class="text-xs md:text-sm text-brand-200 space-y-2">
                            <li>1. ë§¤ì¶œ - ê²½ë¹„ = <strong>ì†Œë“ê¸ˆì•¡</strong></li>
                            <li>2. ì†Œë“ê¸ˆì•¡ - ì†Œë“ê³µì œ = <strong>ê³¼ì„¸í‘œì¤€</strong></li>
                            <li>3. ê³¼ì„¸í‘œì¤€ Ã— ì„¸ìœ¨ = <strong>ì‚°ì¶œì„¸ì•¡</strong></li>
                            <li>4. ì‚°ì¶œì„¸ì•¡ - ì„¸ì•¡ê³µì œ = <strong>ê²°ì •ì„¸ì•¡ (ë‚©ë¶€í•  ëˆ)</strong></li>
                        </ul>
                    </div>
                    <div class="chart-container h-48">
                        <canvas id="structureChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-white p-5 rounded-2xl border border-brand-200 desktop-card-hover">
                    <span class="text-2xl">ğŸŒ±</span>
                    <p class="font-bold text-brand-800 text-sm mt-2">ì²­ë…„ì°½ì—… ê°ë©´</p>
                    <p class="text-[11px] text-brand-500 mt-1">ì„±ë‚¨ì‹œ ì°½ì—… ì²­ë…„ 50% ì„¸ì•¡ê°ë©´</p>
                </div>
                <div class="bg-white p-5 rounded-2xl border border-brand-200 desktop-card-hover">
                    <span class="text-2xl">ğŸ­</span>
                    <p class="font-bold text-brand-800 text-sm mt-2">ì¤‘ì†Œê¸°ì—… ê°ë©´</p>
                    <p class="text-[11px] text-brand-500 mt-1">ì§€ì—­/ê·œëª¨ë³„ 10~20% ê°ë©´</p>
                </div>
                <div class="bg-white p-5 rounded-2xl border border-brand-200 desktop-card-hover">
                    <span class="text-2xl">ğŸ‘¥</span>
                    <p class="font-bold text-brand-800 text-sm mt-2">ê³ ìš©ì¦ëŒ€ ê³µì œ</p>
                    <p class="text-[11px] text-brand-500 mt-1">ì§ì› ì¦ê°€ ì‹œ ì¸ì›ë‹¹ ì§ì ‘ ê°ë©´</p>
                </div>
            </div>
        </section>

        <footer class="text-center text-xs text-brand-300 pb-12 safe-area-bottom">
            <p>Â© 2026 Boxing Gym Tax Assistant v4.1 (Safe Mode)</p>
        </footer>

    </main>

    <!-- Logic -->
    <script>
        const deployKey = "MY_GOOGLE_API_KEY"; // ê¹ƒí—ˆë¸Œ ë°°í¬ìš© ë³€ìˆ˜
        let apiKey = "";

        // ë¡œì§: ë°°í¬ëœ í‚¤ê°€ ìˆìœ¼ë©´ ê·¸ê±¸ ì“°ê³ , ì—†ìœ¼ë©´ ì €ì¥ëœ ê±¸ ì°¾ê³ , ê·¸ë˜ë„ ì—†ìœ¼ë©´ ë¬¼ì–´ë´„
        if (deployKey !== "MY_GOOGLE_API_KEY") {
            apiKey = deployKey; // ë°°í¬ ì„±ê³µ! ê¹ƒí—ˆë¸Œ í‚¤ ì‚¬ìš©
        } else {
            // ë¡œì»¬ í…ŒìŠ¤íŠ¸ìš©: ì €ì¥ëœ í‚¤ í™•ì¸
            const savedKey = localStorage.getItem("gym_gemini_api_key");
            if (savedKey) {
                apiKey = savedKey;
            } else {
                // í‚¤ê°€ ì—†ìœ¼ë©´ ì…ë ¥ ë°›ê¸°
                const input = prompt("Google Gemini API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.\n(ì…ë ¥í•œ í‚¤ëŠ” ë¸Œë¼ìš°ì €ì—ë§Œ ì €ì¥ë©ë‹ˆë‹¤.)");
                if (input && input.trim().length > 10) {
                    apiKey = input.trim();
                    localStorage.setItem("gym_gemini_api_key", apiKey);
                    alert("API í‚¤ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ AI ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
                } else {
                    alert("API í‚¤ê°€ ì—†ìœ¼ë©´ AI ê¸°ëŠ¥ì´ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                }
            }
        }

        const model = "gemini-2.5-flash-preview-09-2025";

        // ... (ì´í•˜ toggleMenu í•¨ìˆ˜ë¶€í„°ëŠ” ê·¸ëŒ€ë¡œ ë‘ì‹œë©´ ë©ë‹ˆë‹¤) ...

        function toggleMenu(show) {
            if (show) {
                menu.classList.remove('hidden');
                setTimeout(() => menu.classList.remove('opacity-0'), 10);
            } else {
                menu.classList.add('opacity-0');
                setTimeout(() => menu.classList.add('hidden'), 300);
            }
        }
        menuBtn.onclick = () => toggleMenu(true);
        menuClose.onclick = () => toggleMenu(false);
        menu.onclick = (e) => { if(e.target === menu) toggleMenu(false); };
        document.querySelectorAll('#mobile-menu a').forEach(a => a.onclick = () => toggleMenu(false));

        // Text Cleaning
        function cleanText(text) {
            return text.replace(/^#+\s/gm, '').replace(/\*\*/g, '').replace(/\*/g, '').replace(/^[-*+]\s+/gm, 'â€¢ ').replace(/^-{3,}/gm, '').replace(/`/g, '').trim();
        }

        // Check & Set API Key
        function checkApiKey() {
            // ë§Œì•½ í‚¤ê°€ ì—†ê±°ë‚˜, 'MY_GOOGLE_API_KEY' ê·¸ëŒ€ë¡œë¼ë©´ ì‚¬ìš©ìì—ê²Œ ë¬¼ì–´ë´„
            if (!apiKey || apiKey === "MY_GOOGLE_API_KEY") {
                const input = prompt("Google Gemini API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.\n(ì…ë ¥í•œ í‚¤ëŠ” ë¸Œë¼ìš°ì €ì—ë§Œ ì•ˆì „í•˜ê²Œ ì €ì¥ë©ë‹ˆë‹¤.)");
                if (input && input.trim().length > 10) {
                    apiKey = input.trim();
                    localStorage.setItem("gym_gemini_api_key", apiKey);
                    alert("API í‚¤ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.");
                } else {
                    alert("API í‚¤ê°€ ì—†ìœ¼ë©´ AI ê¸°ëŠ¥ì´ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                    return false;
                }
            }
            return true;
        }

        async function fetchGemini(promptText) {
            if(!checkApiKey()) throw new Error("No API Key");

            const url = `https://generativelanguage.googleapis.com/v1beta/models/${model}:generateContent?key=${apiKey}`;
            const response = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: `${promptText}\nê·œì¹™: ë§ˆí¬ë‹¤ìš´ ê¸°í˜¸ ì—†ì´ ê¹”ë”í•œ í‰ë¬¸.` }] }] })
            });
            if (!response.ok) throw new Error("API Error");
            const data = await response.json();
            return cleanText(data.candidates[0].content.parts[0].text);
        }

        function copyToClipboard(elementId) {
            const text = document.getElementById(elementId).innerText;
            navigator.clipboard.writeText(text).then(() => {
                const btn = event.target;
                const original = btn.innerText;
                btn.innerText = "ë³µì‚¬ ì™„ë£Œ";
                btn.classList.replace('bg-brand-800', 'bg-accent');
                setTimeout(() => {
                    btn.innerText = original;
                    btn.classList.replace('bg-accent', 'bg-brand-800');
                }, 2000);
            });
        }

        function foldArea(elementId) {
            document.getElementById(elementId).classList.add('hidden');
        }

        document.addEventListener('DOMContentLoaded', () => {
            const setupGen = (btnId, inputId, resultAreaId, outputId, promptBase) => {
                const btn = document.getElementById(btnId);
                if(btn) {
                    btn.addEventListener('click', async () => {
                        const info = document.getElementById(inputId).value;
                        if (!info) {
                            alert("ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                            return;
                        }
                        const loading = document.getElementById('loading');
                        const resultArea = document.getElementById(resultAreaId);
                        const output = document.getElementById(outputId);

                        loading.classList.remove('hidden');
                        resultArea.classList.add('hidden');

                        try {
                            const res = await fetchGemini(`${promptBase} ${info} ì¡°ê±´ìœ¼ë¡œ ì‘ì„±í•´ì¤˜.`);
                            output.innerText = res;
                            resultArea.classList.remove('hidden');
                            if(window.innerWidth < 768) resultArea.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        } catch (e) {
                            console.error(e);
                            output.innerText = "ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\nAPI í‚¤ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.\n(ë¸Œë¼ìš°ì € ìºì‹œ ì‚­ì œ í›„ ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”)";
                            resultArea.classList.remove('hidden');
                        } finally {
                            loading.classList.add('hidden');
                        }
                    });
                }
            };

            setupGen('btnFreeGen', 'freeRole', 'freeResultArea', 'freeOutput', 'ê¶Œíˆ¬ì²´ìœ¡ê´€ ì½”ì¹˜ í”„ë¦¬ëœì„œ ìœ„ì´‰ê³„ì•½ì„œ ë¬¸êµ¬:');
            setupGen('btnLaborGen', 'laborInfo', 'laborResultArea', 'laborOutput', 'ê¶Œíˆ¬ì²´ìœ¡ê´€ ì§ì› í‘œì¤€ ê·¼ë¡œê³„ì•½ì„œ ì´ˆì•ˆ:');

            // Charts
            const costCtx = document.getElementById('costChart').getContext('2d');
            const costChart = new Chart(costCtx, {
                type: 'doughnut',
                data: {
                    labels: ['ê³µì‚¬ë¹„', 'ë¶€ê°€ì„¸(ìì‚°)'],
                    datasets: [{ data: [50000000, 5000000], backgroundColor: ['#ebe6e0', '#d97706'], borderWidth: 0 }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } } }
            });

            document.getElementById('costInput').addEventListener('input', (e) => {
                const val = parseInt(e.target.value) || 0;
                costChart.data.datasets[0].data = [val, val * 0.1];
                costChart.update();
            });

            const structureCtx = document.getElementById('structureChart').getContext('2d');
            new Chart(structureCtx, {
                type: 'bar',
                data: {
                    labels: ['ìˆ˜ì…', 'ë¹„ìš©', 'ì†Œë“'],
                    datasets: [{ data: [100, 65, 35], backgroundColor: ['#70594c', '#a3846f', '#d97706'], borderRadius: 4 }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { display: false }, x: { grid: { display: false } } } }
            });
        });
    </script>
</body>
</html>