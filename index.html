<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>권투체육관 AI 창업 및 세무 가이드</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['"Noto Sans KR"', 'sans-serif'] },
                    colors: {
                        brand: { 50: '#fbfaf9', 100: '#f5f3f0', 200: '#ebe6e0', 300: '#dbd1c7', 400: '#c5b4a5', 500: '#b09682', 600: '#a3846f', 700: '#886b59', 800: '#70594c', 900: '#5c4940' },
                        accent: { light: '#fbbf24', DEFAULT: '#d97706', dark: '#b45309' }
                    }
                }
            }
        }
    </script>

    <style>
        .chart-container { position: relative; width: 100%; max-width: 100%; margin: 0 auto; height: 300px; }
        html { scroll-behavior: smooth; }
        body { background-color: #fbfaf9; color: #444; }
        .ai-card { background: white; border: 1px solid #ebe6e0; border-radius: 1.5rem; transition: all 0.3s ease; }
        .ai-card:hover { border-color: #d97706; box-shadow: 0 10px 30px -10px rgba(217, 119, 6, 0.1); }
        .contract-output { white-space: pre-wrap; word-break: break-all; font-family: 'Noto Sans KR', sans-serif; line-height: 1.8; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>

    <!-- Chosen Palette: Warm Neutrals & Amber. 
         Application Structure Plan:
         1. AI Assistant Center (New Copy/Fold buttons, No special characters)
         2. Registration Analysis (Academy vs Sports Facility)
         3. Tax Office Initial Duties (Registration, Account, Receipts)
         4. Interior VAT Assetization Analysis
         5. Annual Tax Timeline (Withholding, Status, Income Tax)
         6. Income Tax Calculation Waterfall
         7. Special Tax Credits (Youth Startup, SME Credits)
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="text-brand-800 antialiased min-h-screen flex flex-col md:flex-row">

    <!-- Sidebar Navigation -->
    <nav id="sidebar" class="hidden md:flex flex-col w-full md:w-72 bg-white border-r border-brand-200 h-screen sticky top-0 overflow-y-auto z-40 fixed md:relative">
        <div class="p-8 border-b border-brand-100">
            <h1 class="text-2xl font-black text-brand-900 leading-tight">Boxing Gym<br><span class="text-accent">Tax Master</span></h1>
            <p class="text-[10px] text-brand-400 mt-2 font-bold uppercase tracking-widest">Seongnam Founders v3</p>
        </div>
        <ul class="flex-1 py-6 space-y-1">
            <li><a href="#section-ai" class="block px-8 py-3 bg-brand-50 text-accent font-bold border-l-4 border-accent">✨ AI 계약서 도우미</a></li>
            <li><a href="#section-reg" class="block px-8 py-3 hover:bg-brand-50 border-l-4 border-transparent hover:border-accent transition-all">🏢 설립 및 등록 차이</a></li>
            <li><a href="#section-duty" class="block px-8 py-3 hover:bg-brand-50 border-l-4 border-transparent hover:border-accent transition-all">⚖️ 세무서 초기 의무</a></li>
            <li><a href="#section-interior" class="block px-8 py-3 hover:bg-brand-50 border-l-4 border-transparent hover:border-accent transition-all">🔨 인테리어와 매입세액</a></li>
            <li><a href="#section-calendar" class="block px-8 py-3 hover:bg-brand-50 border-l-4 border-transparent hover:border-accent transition-all">📅 연간 세무 일정</a></li>
            <li><a href="#section-structure" class="block px-8 py-3 hover:bg-brand-50 border-l-4 border-transparent hover:border-accent transition-all">💰 소득세 계산 구조</a></li>
            <li><a href="#section-benefit" class="block px-8 py-3 hover:bg-brand-50 border-l-4 border-transparent hover:border-accent transition-all">🎁 세액감면 및 혜택</a></li>
        </ul>
        <div class="p-8 text-[10px] text-brand-400 border-t border-brand-100">
            <p>※ 성남시 수정/중원/분당 특화 가이드</p>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-1 p-4 md:p-12 overflow-y-auto w-full max-w-6xl mx-auto space-y-24">

        <!-- 1. AI Contract Center -->
        <section id="section-ai" class="scroll-mt-12 space-y-8">
            <div class="text-center md:text-left">
                <h2 class="text-3xl font-black text-brand-900 mb-2">✨ AI 계약서 작성 도우미</h2>
                <p class="text-brand-600">마크다운 기호 없이 복사하여 바로 사용 가능한 깔끔한 계약 문구를 생성합니다.</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Freelancer Assistant -->
                <div class="ai-card p-8 shadow-sm">
                    <h3 class="text-xl font-bold text-brand-900 mb-6 flex items-center">
                        <span class="bg-accent text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm">01</span>
                        프리랜서 계약서 작성 도우미
                    </h3>
                    <div class="space-y-4">
                        <input type="text" id="freeRole" placeholder="코치 이름 및 역할 (예: 홍길동 저녁타임 지도)" class="w-full p-4 bg-brand-50 border border-brand-200 rounded-2xl outline-none focus:border-accent">
                        <button id="btnFreeGen" class="w-full bg-accent text-white font-black py-4 rounded-2xl shadow-lg hover:bg-accent-dark transition-all">계약 문구 생성하기</button>
                    </div>
                    <div id="freeResultArea" class="hidden mt-6 space-y-4">
                        <div id="freeOutput" class="p-6 bg-stone-50 border border-brand-200 rounded-2xl text-sm contract-output"></div>
                        <div class="flex gap-2">
                            <button onclick="copyToClipboard('freeOutput')" class="flex-1 bg-brand-800 text-white py-3 rounded-xl text-sm font-bold hover:bg-black transition-colors">복사하기</button>
                            <button onclick="foldArea('freeResultArea')" class="flex-1 bg-brand-200 text-brand-700 py-3 rounded-xl text-sm font-bold hover:bg-brand-300 transition-colors">결과 접기</button>
                        </div>
                    </div>
                </div>

                <!-- Labor Assistant -->
                <div class="ai-card p-8 shadow-sm">
                    <h3 class="text-xl font-bold text-brand-900 mb-6 flex items-center">
                        <span class="bg-brand-900 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm">02</span>
                        근로계약서 작성 도우미
                    </h3>
                    <div class="space-y-4">
                        <input type="text" id="laborInfo" placeholder="직원 이름 및 조건 (예: 김철수 월 200만 주5일)" class="w-full p-4 bg-brand-50 border border-brand-200 rounded-2xl outline-none focus:border-brand-900">
                        <button id="btnLaborGen" class="w-full bg-brand-900 text-white font-black py-4 rounded-2xl shadow-lg hover:bg-black transition-all">근로계약 초안 생성</button>
                    </div>
                    <div id="laborResultArea" class="hidden mt-6 space-y-4">
                        <div id="laborOutput" class="p-6 bg-stone-50 border border-brand-200 rounded-2xl text-sm contract-output"></div>
                        <div class="flex gap-2">
                            <button onclick="copyToClipboard('laborOutput')" class="flex-1 bg-brand-800 text-white py-3 rounded-xl text-sm font-bold hover:bg-black transition-colors">복사하기</button>
                            <button onclick="foldArea('laborResultArea')" class="flex-1 bg-brand-200 text-brand-700 py-3 rounded-xl text-sm font-bold hover:bg-brand-300 transition-colors">결과 접기</button>
                        </div>
                    </div>
                </div>
            </div>
            <div id="loading" class="hidden text-center text-accent animate-pulse font-bold">AI가 문서를 작성하고 있습니다. 잠시만 기다려 주세요...</div>
        </section>

        <!-- 2. Registration Analysis (Seongnam Specific) -->
        <section id="section-reg" class="scroll-mt-12 space-y-8">
            <h3 class="text-2xl font-black text-brand-900 border-l-4 border-accent pl-6">🏢 학원 설립등록 vs 체육시설업 신고</h3>
            <div class="bg-white rounded-3xl border border-brand-200 overflow-hidden shadow-sm">
                <table class="w-full text-left text-sm border-collapse">
                    <thead class="bg-brand-50">
                        <tr>
                            <th class="p-6 font-bold text-brand-900 border-b border-brand-100">비교 항목</th>
                            <th class="p-6 font-bold text-brand-900 border-b border-brand-100">학원 설립 등록 (교육청)</th>
                            <th class="p-6 font-bold text-brand-900 border-b border-brand-100">체육시설업 신고 (구청)</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-brand-100">
                        <tr>
                            <td class="p-6 font-bold bg-brand-50/30">관할 기관</td>
                            <td class="p-6">성남교육지원청 (분당구 야탑역 인근)</td>
                            <td class="p-6">성남시 수정구, 중원구, 분당구청 문화체육과</td>
                        </tr>
                        <tr>
                            <td class="p-6 font-bold bg-brand-50/30">시설 기준</td>
                            <td class="p-6">강의실 전용 면적 등 교육청 고시 기준 엄수</td>
                            <td class="p-6">운동시설 면적 및 안전 기준 (샌드백, 링 등)</td>
                        </tr>
                        <tr>
                            <td class="p-6 font-bold bg-brand-50/30">자격 요건</td>
                            <td class="p-6">학원장 및 강사 자격 증빙</td>
                            <td class="p-6">생활체육지도자 자격증 소지자 배치 의무</td>
                        </tr>
                        <tr>
                            <td class="p-6 font-bold bg-brand-50/30">면세 여부</td>
                            <td class="p-6">교육 용역으로 당연 면세 대상</td>
                            <td class="p-6">교육 기능 제공 시 부가가치세 면세 가능</td>
                        </tr>
                        <tr>
                            <td class="p-6 font-bold bg-brand-50/30">특이 사항</td>
                            <td class="p-6">교습비 신고 및 관리 엄격</td>
                            <td class="p-6">성남시 조례에 따른 체육도장업 관리</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- 3. Tax Office Duties -->
        <section id="section-duty" class="scroll-mt-12 space-y-8">
            <h3 class="text-2xl font-black text-brand-900 border-l-4 border-accent pl-6">⚖️ 세무서 초기 의무 사항 및 규정</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white p-8 rounded-3xl border border-brand-200">
                    <div class="flex items-center mb-4">
                        <span class="text-2xl mr-3">📝</span>
                        <h4 class="font-bold text-brand-900 uppercase text-xs tracking-widest text-brand-400">Step 01</h4>
                    </div>
                    <p class="font-bold text-brand-900 mb-2">사업자등록 신청 (면세)</p>
                    <p class="text-sm text-brand-600 leading-relaxed">
                        개시일부터 20일 이내에 신청해야 합니다. 권투체육관은 부가가치세법상 교육용역 제공으로 <strong>면세사업자</strong> 신청이 가능합니다.
                    </p>
                </div>
                <div class="bg-white p-8 rounded-3xl border border-brand-200">
                    <div class="flex items-center mb-4">
                        <span class="text-2xl mr-3">💳</span>
                        <h4 class="font-bold text-brand-900 uppercase text-xs tracking-widest text-brand-400">Step 02</h4>
                    </div>
                    <p class="font-bold text-brand-900 mb-2">사업용계좌 및 카드 등록</p>
                    <p class="text-sm text-brand-600 leading-relaxed">
                        사업 개시일로부터 6개월 이내에 홈택스에 등록해야 합니다. 미등록 시 수입금액의 0.2% 가산세와 세액감면 배제 리스크가 있습니다.
                    </p>
                </div>
                <div class="bg-white p-8 rounded-3xl border border-brand-200 md:col-span-2">
                    <div class="flex items-center mb-4">
                        <span class="text-2xl mr-3">💰</span>
                        <h4 class="font-bold text-brand-900 uppercase text-xs tracking-widest text-brand-400">Rule</h4>
                    </div>
                    <p class="font-bold text-brand-900 mb-2">현금영수증 의무발행 및 가산세</p>
                    <p class="text-sm text-brand-600 leading-relaxed mb-4">
                        체육관은 현금영수증 의무발행 업종입니다. 건당 <strong>10만원 이상</strong> 현금 거래 시 소비자의 요청이 없더라도 5일 이내에 의무 발행해야 합니다.
                    </p>
                    <div class="bg-red-50 p-4 rounded-xl border border-red-100 text-xs text-red-700">
                        <strong>가산세 규정:</strong> 미발행 시 미발행 금액의 20%가 가산세로 부과되며, 신고자에게는 포상금이 지급되므로 주의가 필요합니다.
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. Interior VAT Assetization -->
        <section id="section-interior" class="scroll-mt-12 space-y-8">
            <h3 class="text-2xl font-black text-brand-900 border-l-4 border-accent pl-6">🔨 인테리어 매입세액불공제 처리</h3>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div class="space-y-6">
                    <div class="bg-white p-8 rounded-3xl border border-brand-200">
                        <p class="font-bold text-brand-900 mb-4">면세사업자의 부가세 처리 방식</p>
                        <p class="text-sm text-brand-600 leading-relaxed mb-4">
                            면세사업자는 매출 부가세를 걷지 않으므로, 인테리어 시 지불한 매입 부가세 10%를 환급받을 수 없습니다. (매입세액불공제)
                        </p>
                        <ul class="text-xs text-brand-500 space-y-3">
                            <li class="flex items-start"><span class="mr-2 text-accent">•</span> <strong>자산 취득원가 산입:</strong> 환급받지 못한 부가세는 인테리어(자산) 가액에 포함합니다.</li>
                            <li class="flex items-start"><span class="mr-2 text-accent">•</span> <strong>비용화 과정:</strong> 이 총액을 5년에 걸쳐 감가상각비로 종합소득세 필요경비로 반영합니다.</li>
                        </ul>
                    </div>
                    <div class="bg-brand-50 p-6 rounded-2xl border border-brand-100">
                        <label class="block text-[10px] font-bold text-brand-400 mb-2 uppercase">공사비 입력 (VAT 별도)</label>
                        <div class="flex items-end">
                            <input type="number" id="costInput" value="50000000" class="text-3xl font-black text-accent w-full bg-transparent outline-none">
                            <span class="font-bold text-brand-400">원</span>
                        </div>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="costChart"></canvas>
                </div>
            </div>
        </section>

        <!-- 5. Annual Tax Timeline -->
        <section id="section-calendar" class="scroll-mt-12 space-y-8">
            <h3 class="text-2xl font-black text-brand-900 border-l-4 border-accent pl-6">📅 연간 주요 세무 일정</h3>
            <div class="flex space-x-6 overflow-x-auto no-scrollbar pb-6 px-2">
                <!-- Jan/Feb -->
                <div class="min-w-[280px] bg-white p-6 rounded-2xl border border-brand-200 shadow-sm relative pt-12">
                    <div class="absolute top-0 left-6 -translate-y-1/2 bg-accent text-white px-4 py-2 rounded-xl text-xs font-black">2월 10일</div>
                    <h4 class="font-bold text-brand-800 mb-2">사업자 현황신고</h4>
                    <p class="text-xs text-brand-500 leading-relaxed">지난 1년 매출액을 세무서에 보고합니다. 종합소득세의 기초 자료가 됩니다.</p>
                </div>
                <!-- Monthly -->
                <div class="min-w-[280px] bg-white p-6 rounded-2xl border border-brand-200 shadow-sm relative pt-12">
                    <div class="absolute top-0 left-6 -translate-y-1/2 bg-brand-800 text-white px-4 py-2 rounded-xl text-xs font-black">매달 10일</div>
                    <h4 class="font-bold text-brand-800 mb-2">원천세 신고·납부</h4>
                    <p class="text-xs text-brand-500 leading-relaxed">코치(3.3%)나 직원의 월급에서 뗀 세금을 나라에 내는 날입니다.</p>
                </div>
                <!-- Mar -->
                <div class="min-w-[280px] bg-white p-6 rounded-2xl border border-brand-200 shadow-sm relative pt-12">
                    <div class="absolute top-0 left-6 -translate-y-1/2 bg-accent text-white px-4 py-2 rounded-xl text-xs font-black">3월 10일</div>
                    <h4 class="font-bold text-brand-800 mb-2">지급명세서 제출</h4>
                    <p class="text-xs text-brand-500 leading-relaxed">누구에게 얼마를 지급했는지 상세 내역을 제출하는 마감일입니다.</p>
                </div>
                <!-- May -->
                <div class="min-w-[280px] bg-white p-6 rounded-2xl border border-brand-200 shadow-sm relative pt-12">
                    <div class="absolute top-0 left-6 -translate-y-1/2 bg-accent text-white px-4 py-2 rounded-xl text-xs font-black">5월 한 달</div>
                    <h4 class="font-bold text-brand-800 mb-2">종합소득세 신고</h4>
                    <p class="text-xs text-brand-500 leading-relaxed">전체 수입에서 경비를 뺀 최종 소득에 대해 세금을 확정하고 납부합니다.</p>
                </div>
            </div>
        </section>

        <!-- 6. Income Tax Calculation Waterfall -->
        <section id="section-structure" class="scroll-mt-12 space-y-8">
            <h3 class="text-2xl font-black text-brand-900 border-l-4 border-accent pl-6">💰 종합소득세 계산 구조</h3>
            <div class="bg-brand-900 text-white p-10 rounded-3xl shadow-xl">
                <div class="grid grid-cols-1 md:grid-cols-5 gap-4 items-center mb-10 text-center">
                    <div>
                        <p class="text-brand-300 text-[10px] font-bold uppercase mb-1">매출</p>
                        <p class="text-xl font-black">총수입</p>
                    </div>
                    <div class="text-brand-600 text-2xl">－</div>
                    <div>
                        <p class="text-brand-300 text-[10px] font-bold uppercase mb-1">경비</p>
                        <p class="text-xl font-black">필요경비</p>
                    </div>
                    <div class="text-brand-600 text-2xl">＝</div>
                    <div class="bg-accent px-6 py-4 rounded-2xl">
                        <p class="text-white/70 text-[10px] font-bold uppercase mb-1">기본</p>
                        <p class="text-xl font-black">소득금액</p>
                    </div>
                </div>
                <div class="border-t border-white/10 pt-10 space-y-6">
                    <div class="flex flex-col md:flex-row justify-between gap-6">
                        <div class="flex-1 space-y-4">
                            <p class="text-sm font-bold flex items-center">
                                <span class="w-1 h-1 bg-accent mr-2"></span> 소득공제 및 세율 적용
                            </p>
                            <p class="text-xs text-brand-300 leading-relaxed">
                                소득금액에서 인적공제 등을 차감하여 과세표준을 구하고, 6%~45%의 누진세율을 적용하여 산출세액을 계산합니다.
                            </p>
                        </div>
                        <div class="flex-1 space-y-4">
                            <p class="text-sm font-bold flex items-center">
                                <span class="w-1 h-1 bg-accent mr-2"></span> 세액공제 및 감면
                            </p>
                            <p class="text-xs text-brand-300 leading-relaxed">
                                계산된 세금에서 창업감면 등을 직접 차감하여 최종 납부할 결정세액을 산출합니다.
                            </p>
                        </div>
                    </div>
                    <div class="chart-container h-48">
                        <canvas id="structureChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- 7. Special Tax Credits -->
        <section id="section-benefit" class="scroll-mt-12 space-y-8">
            <h3 class="text-2xl font-black text-brand-900 border-l-4 border-accent pl-6">🎁 세액공제 및 감면 혜택</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white p-8 rounded-3xl border border-brand-200">
                    <p class="text-accent font-black mb-4">청년창업 세액감면 (제6조)</p>
                    <p class="text-sm text-brand-600 leading-relaxed">
                        만 15세~34세 청년이 성남시(과밀억제권역)에서 창업한 경우, 5년간 소득세의 <strong>50%</strong>를 감면합니다.
                    </p>
                </div>
                <div class="bg-white p-8 rounded-3xl border border-brand-200">
                    <p class="text-accent font-black mb-4">중소기업 특별세액감면 (제7조)</p>
                    <p class="text-sm text-brand-600 leading-relaxed">
                        소규모 체육관 운영 시 지역과 규모에 따라 소득세의 10%~20% 수준을 추가로 감면받을 수 있습니다.
                    </p>
                </div>
                <div class="bg-white p-8 rounded-3xl border border-brand-200 md:col-span-2">
                    <p class="text-accent font-black mb-4">고용증대 세액공제</p>
                    <p class="text-sm text-brand-600 leading-relaxed mb-4">
                        상시 근로자 수가 전년 대비 증가한 경우 증가 인원당 수백만원에서 천만원대까지 세금을 직접 공제합니다. (사후관리 필요)
                    </p>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="pt-12 border-t border-brand-100 text-center text-brand-400 text-[10px] pb-12">
            <p>© 2026 Boxing Gym Founders Master Guide. Clean Document Logic Active.</p>
        </footer>

    </main>

    <!-- UI Logic -->
    <script>
        const apiKey = ""; 
        const model = "gemini-2.5-flash-preview-09-2025";

        // Clean Text Function (No #, *, -)
        function cleanText(text) {
            return text
                .replace(/^#+\s/gm, '')         
                .replace(/\*\*/g, '')           
                .replace(/\*/g, '')             
                .replace(/^[-*+]\s+/gm, '• ')   
                .replace(/^-{3,}/gm, '')        
                .replace(/`/g, '')
                .trim();
        }

        async function fetchGemini(promptText) {
            const url = `https://generativelanguage.googleapis.com/v1beta/models/${model}:generateContent?key=${apiKey}`;
            const finalPrompt = `
                ${promptText}
                규칙:
                1. 절대로 #, *, -, -- 특수기호를 사용하지 마세요.
                2. 제목은 단순히 텍스트와 줄바꿈으로만 구분하세요.
                3. 목록은 숫자(1., 2.)를 사용하세요.
                4. 문서는 아주 깔끔한 평문(Plain Text) 형태여야 합니다.
            `;

            const response = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: finalPrompt }] }] })
            });
            
            if (!response.ok) throw new Error("API Error");
            const data = await response.json();
            return cleanText(data.candidates[0].content.parts[0].text);
        }

        // Copy Feature
        function copyToClipboard(elementId) {
            const text = document.getElementById(elementId).innerText;
            const el = document.createElement('textarea');
            el.value = text;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);
            
            const btn = event.target;
            const original = btn.innerText;
            btn.innerText = "복사 완료!";
            setTimeout(() => btn.innerText = original, 2000);
        }

        // Fold Feature
        function foldArea(elementId) {
            document.getElementById(elementId).classList.add('hidden');
        }

        document.addEventListener('DOMContentLoaded', () => {
            
            // Freelancer Generator
            document.getElementById('btnFreeGen').addEventListener('click', async () => {
                const info = document.getElementById('freeRole').value;
                if (!info) return;

                const loading = document.getElementById('loading');
                const resultArea = document.getElementById('freeResultArea');
                const output = document.getElementById('freeOutput');

                loading.classList.remove('hidden');
                resultArea.classList.add('hidden');

                try {
                    const res = await fetchGemini(`권투체육관 코치 ${info}를 위한 프리랜서 위촉계약서 문구를 작성해줘. 3.3% 원천징수와 독립적 업무 지위 조항을 포함해.`);
                    output.innerText = res;
                    resultArea.classList.remove('hidden');
                } catch (e) {
                    output.innerText = "생성에 실패했습니다.";
                } finally {
                    loading.classList.add('hidden');
                }
            });

            // Labor Generator
            document.getElementById('btnLaborGen').addEventListener('click', async () => {
                const info = document.getElementById('laborInfo').value;
                if (!info) return;

                const loading = document.getElementById('loading');
                const resultArea = document.getElementById('laborResultArea');
                const output = document.getElementById('laborOutput');

                loading.classList.remove('hidden');
                resultArea.classList.add('hidden');

                try {
                    const res = await fetchGemini(`권투체육관 근로자 ${info}를 위한 표준 근로계약서 초안을 작성해줘. 근로기준법 준수 및 주휴수당 내용 포함.`);
                    output.innerText = res;
                    resultArea.classList.remove('hidden');
                } catch (e) {
                    output.innerText = "생성에 실패했습니다.";
                } finally {
                    loading.classList.add('hidden');
                }
            });

            // Chart Logic
            const costCtx = document.getElementById('costChart').getContext('2d');
            const costChart = new Chart(costCtx, {
                type: 'doughnut',
                data: {
                    labels: ['순수 공사비', '불공제 부가세 (자산화)'],
                    datasets: [{
                        data: [50000000, 5000000],
                        backgroundColor: ['#ebe6e0', '#d97706'],
                        borderWidth: 0
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });

            document.getElementById('costInput').addEventListener('input', (e) => {
                const val = parseInt(e.target.value) || 0;
                costChart.data.datasets[0].data = [val, val * 0.1];
                costChart.update();
            });

            const structureCtx = document.getElementById('structureChart').getContext('2d');
            new Chart(structureCtx, {
                type: 'bar',
                data: {
                    labels: ['매출', '경비', '소득', '감면액'],
                    datasets: [{
                        data: [100, 60, 40, 20],
                        backgroundColor: ['#70594c', '#a3846f', '#d97706', '#fbbf24'],
                        borderRadius: 8
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { display: false }, x: { grid: { display: false } } } }
            });
        });
    </script>
</body>
</html>